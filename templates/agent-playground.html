{% extends "base-html.html" %}

{% block title %}{{ contentData.title }}{% endblock %}

{% block javascript %}
<link rel="stylesheet" href="{{ url_for('static', filename='agent-playground/workspace.css') }}" />
<script type="module" src="{{ url_for('static', filename='agent-playground/workspace.js') }}"></script>
{% endblock %}

{% block content %}
<div id="ap-workspace" data-api-base="/api/agent-playground">
    <section id="ap-toolbar">
        <div class="ap-toolbar-group">
            <label for="ap-run-mode">Run Mode</label>
            <select id="ap-run-mode"></select>
            <button id="ap-start-btn" type="button">Start Run</button>
            <button id="ap-refresh-btn" type="button">Refresh</button>
        </div>
        <div class="ap-toolbar-group">
            <span id="ap-run-status">Idle</span>
            <span id="ap-run-meta">Run: <span id="ap-run-id">-</span></span>
        </div>
    </section>

    <section class="ap-pane" id="ap-schema-pane">
        <header class="ap-pane-header">
            <div class="ap-pane-title">Schema Driven Config</div>
        </header>
        <div class="ap-pane-body">
            <div class="ap-toolbar-group">
                <label for="ap-schema-capability">Capability</label>
                <select id="ap-schema-capability"></select>
            </div>
            <form id="ap-schema-form"></form>
        </div>
    </section>

    <section id="ap-grid">
        <article class="ap-pane" id="ap-chat-pane">
            <header class="ap-pane-header">
                <div class="ap-pane-title">Chat / Run</div>
            </header>
            <div class="ap-pane-body" data-pane="chat"></div>
        </article>

        <article class="ap-pane" id="ap-trace-pane">
            <header class="ap-pane-header">
                <div class="ap-pane-title">Trace / Steps</div>
            </header>
            <div class="ap-pane-body" data-pane="trace"></div>
        </article>

        <article class="ap-pane" id="ap-state-pane">
            <header class="ap-pane-header">
                <div class="ap-pane-title">State</div>
            </header>
            <div class="ap-pane-body" data-pane="state"></div>
        </article>

        <article class="ap-pane" id="ap-artifacts-pane">
            <header class="ap-pane-header">
                <div class="ap-pane-title">Artifacts</div>
            </header>
            <div class="ap-pane-body" data-pane="artifacts"></div>
        </article>

        <article class="ap-pane" id="ap-inspector-pane">
            <header class="ap-pane-header">
                <div class="ap-pane-title">Inspector</div>
            </header>
            <div class="ap-pane-body" data-pane="inspector"></div>
        </article>
    </section>
</div>
{% endblock %}

{% block footer %}
<div id="ap-composer">
    <textarea id="ap-input" placeholder="Type a prompt, workflow instruction, or batch lines..."></textarea>
    <div id="ap-composer-actions">
        <button id="ap-run-btn" type="button">Run</button>
        <button id="ap-cancel-btn" type="button">Cancel</button>
        <button id="ap-replay-btn" type="button">Replay</button>
        <button id="ap-resume-btn" type="button">Resume</button>
    </div>
</div>
{% endblock %}
