# RYO Chat environment template
# NOTE: current runtime reads config.json directly.
# This file supports operator setup and upcoming automation/fallback workflows.

# General
RYO_CONFIG_PATH=config.json
RYO_LOG_DIR=logs
RYO_SETUP_MODE=interactive

# Ollama
OLLAMA_HOST=http://127.0.0.1:11434
OLLAMA_EMBED_MODEL=nomic-embed-text:latest
OLLAMA_TOOL_MODEL=llama3.2:latest
OLLAMA_CHAT_MODEL=llama3.2:latest
OLLAMA_GENERATE_MODEL=llama3.2:latest
OLLAMA_MULTIMODAL_MODEL=llama3.2-vision:latest

# Runtime overrides (optional)
RYO_DEFAULT_OLLAMA_HOST=http://127.0.0.1:11434
RYO_DEFAULT_EMBEDDING_MODEL=nomic-embed-text:latest
RYO_DEFAULT_GENERATE_MODEL=llama3.2:latest
RYO_DEFAULT_CHAT_MODEL=llama3.2:latest
RYO_DEFAULT_TOOL_MODEL=llama3.2:latest
RYO_DEFAULT_MULTIMODAL_MODEL=llama3.2-vision:latest
RYO_INFERENCE_CONTEXT_WINDOW=4096
RYO_OLLAMA_PROBE_TIMEOUT_SECONDS=3.0
RYO_OLLAMA_EMBED_TIMEOUT_SECONDS=12.0
RYO_EMBEDDING_MAX_INPUT_CHARS=6000
RYO_PROMPT_MODEL_SELECTION_ON_STARTUP=false

# Telegram
TELEGRAM_BOT_NAME=
TELEGRAM_BOT_ID=
TELEGRAM_BOT_TOKEN=
TELEGRAM_OWNER_USER_ID=
TELEGRAM_OWNER_USERNAME=
TELEGRAM_OWNER_FIRST_NAME=
TELEGRAM_OWNER_LAST_NAME=
WEB_UI_URL=http://127.0.0.1:4747/

# Local Web UI runtime controls (launcher/web_ui.py)
RYO_WEB_HOST=127.0.0.1
RYO_WEB_PORT=4747
RYO_WEB_PORT_SCAN_LIMIT=100
RYO_WEB_DEBUG=false
RYO_WEB_USE_RELOADER=false
RYO_WEB_SECRET_KEY=

# Primary PostgreSQL
POSTGRES_DB=ryo_chat
POSTGRES_USER=postgres_user
POSTGRES_PASSWORD=postgres_password
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5432

# Fallback PostgreSQL (setup wizard + DB router)
POSTGRES_FALLBACK_ENABLED=true
POSTGRES_FALLBACK_MODE=local
POSTGRES_FALLBACK_DB=ryo_chat_fallback
POSTGRES_FALLBACK_USER=postgres_user
POSTGRES_FALLBACK_PASSWORD=postgres_password
POSTGRES_FALLBACK_HOST=127.0.0.1
POSTGRES_FALLBACK_PORT=5433

# Runtime database defaults/controls
RYO_DB_DEFAULT_PRIMARY_HOST=127.0.0.1
RYO_DB_DEFAULT_PRIMARY_PORT=5432
RYO_DB_DEFAULT_FALLBACK_HOST=127.0.0.1
RYO_DB_DEFAULT_FALLBACK_PORT=5433
RYO_DB_CONNECT_TIMEOUT_SECONDS=2
RYO_BOOTSTRAP_CONNECT_RETRIES=15
RYO_BOOTSTRAP_RETRY_DELAY_SECONDS=1.0
RYO_BOOTSTRAP_PORT_SCAN_LIMIT=100
RYO_DB_AUTO_BOOTSTRAP_ON_START=true
RYO_DB_AUTO_BOOTSTRAP_USE_DOCKER=true
RYO_DB_AUTO_MIGRATE_ON_START=true

# Runtime tool execution controls
RYO_TOOL_RUNTIME_DEFAULT_TIMEOUT_SECONDS=8.0
RYO_TOOL_RUNTIME_DEFAULT_MAX_RETRIES=1
RYO_TOOL_RUNTIME_BRAVE_TIMEOUT_SECONDS=10.0
RYO_TOOL_RUNTIME_CHAT_HISTORY_TIMEOUT_SECONDS=6.0
RYO_TOOL_RUNTIME_KNOWLEDGE_TIMEOUT_SECONDS=6.0
RYO_TOOL_RUNTIME_SKIP_TOOLS_TIMEOUT_SECONDS=2.0
RYO_TOOL_RUNTIME_ENABLE_HUMAN_APPROVAL=true
RYO_TOOL_RUNTIME_DEFAULT_APPROVAL_TIMEOUT_SECONDS=45.0
RYO_TOOL_RUNTIME_APPROVAL_POLL_INTERVAL_SECONDS=0.25
RYO_TOOL_RUNTIME_DEFAULT_DRY_RUN=false
RYO_TOOL_SANDBOX_ENABLED=true
RYO_TOOL_SANDBOX_REQUIRE_APPROVAL=false
RYO_TOOL_SANDBOX_DRY_RUN=false
RYO_TOOL_SANDBOX_APPROVAL_TIMEOUT_SECONDS=45.0
RYO_TOOL_SANDBOX_EXEC_TIMEOUT_CEILING=30.0
RYO_TOOL_SANDBOX_MAX_MEMORY_MB=512
RYO_TOOL_SANDBOX_NETWORK_ENABLED=true
RYO_TOOL_SANDBOX_FILESYSTEM_MODE=none

# Runtime Telegram controls
RYO_TELEGRAM_MIN_SCORE_PRIVATE_CHAT=50
RYO_TELEGRAM_MIN_SCORE_PRIVATE_IMAGE=70
RYO_TELEGRAM_MIN_SCORE_GROUP_IMAGE=20
RYO_TELEGRAM_MIN_SCORE_OTHER_GROUP=20
RYO_TELEGRAM_MIN_SCORE_LINK=20
RYO_TELEGRAM_MIN_SCORE_FORWARD=20
RYO_TELEGRAM_GET_UPDATES_WRITE_TIMEOUT=500
RYO_TELEGRAM_SHOW_STAGE_PROGRESS=true
RYO_TELEGRAM_SHOW_STAGE_JSON_DETAILS=false
RYO_TELEGRAM_STAGE_DETAIL_LEVEL=minimal

# Runtime orchestrator fast-path controls
RYO_ORCHESTRATOR_FAST_PATH_BREVITY_ENABLED=true
RYO_ORCHESTRATOR_FAST_PATH_BREVITY_MAX_CHARS=96
RYO_ORCHESTRATOR_ANALYSIS_MAX_OUTPUT_TOKENS=256
RYO_ORCHESTRATOR_ANALYSIS_TEMPERATURE=0.1
RYO_ORCHESTRATOR_ANALYSIS_CONTEXT_SUMMARY_MAX_CHARS=220

# Runtime temporal context controls (injected into Telegram/CLI orchestration)
RYO_TEMPORAL_CONTEXT_ENABLED=true
RYO_TEMPORAL_DEFAULT_TIMEZONE=UTC
RYO_TEMPORAL_HISTORY_LIMIT=20
RYO_TEMPORAL_EXCERPT_MAX_CHARS=160

# Runtime topic-shift memory routing controls
RYO_TOPIC_SHIFT_ENABLED=true
RYO_TOPIC_SHIFT_MIN_TOKEN_COUNT=3
RYO_TOPIC_SHIFT_KEYWORD_TERMS=4
RYO_TOPIC_SHIFT_JACCARD_THRESHOLD=0.18
RYO_TOPIC_SHIFT_RECENT_USER_MESSAGES=6
RYO_TOPIC_SHIFT_DEWEIGHT_HISTORY_ON_SWITCH=true
RYO_TOPIC_SHIFT_HISTORY_WINDOW_HOURS_ON_SWITCH=2
RYO_TOPIC_SHIFT_TRIM_TEMPORAL_ON_SMALL_TALK=true
RYO_TOPIC_SHIFT_SMALL_TALK_HISTORY_LIMIT=2

# Runtime moderation/retrieval controls
RYO_PASSWORD_MIN_LENGTH=12
RYO_VECTOR_DIMENSIONS=768
RYO_RETRIEVAL_SHORT_HISTORY_LIMIT=20
RYO_CHAT_HISTORY_WINDOW_HOURS=12
RYO_CHAT_HISTORY_DEFAULT_LIMIT=1
RYO_CHAT_HISTORY_SENDER_WINDOW_HOURS=12
RYO_CHAT_HISTORY_SENDER_DEFAULT_LIMIT=0
RYO_KNOWLEDGE_LIST_LIMIT=10
RYO_KNOWLEDGE_SEARCH_DEFAULT_LIMIT=1
RYO_SPAM_LIST_LIMIT=10
RYO_SPAM_SEARCH_DEFAULT_LIMIT=1
RYO_CONVERSATION_KNOWLEDGE_WORD_THRESHOLD=6
RYO_CONVERSATION_KNOWLEDGE_RESULT_LIMIT=2
RYO_CONVERSATION_SCORE_WORD_THRESHOLD=20
RYO_SPAM_DISTANCE_THRESHOLD=10
RYO_NEW_MEMBER_GRACE_PERIOD_SECONDS=60

# Runtime watchdog controls
RYO_WATCHDOG_RESTART_WINDOW_SECONDS=60
RYO_WATCHDOG_MAX_RESTARTS_PER_WINDOW=5
RYO_WATCHDOG_TERMINATE_TIMEOUT_SECONDS=8
RYO_WATCHDOG_KILL_TIMEOUT_SECONDS=4
RYO_WATCHDOG_THREAD_JOIN_TIMEOUT_SECONDS=2
RYO_WATCHDOG_AUTO_START_ROUTES=true

# External APIs
BRAVE_SEARCH_API_KEY=
TWITTER_CONSUMER_KEY=
TWITTER_CONSUMER_SECRET=
TWITTER_ACCESS_TOKEN=
TWITTER_ACCESS_TOKEN_SECRET=
